<!--  key with name title -->
<script context="module">
  export const db = [
    {
      title: '‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ',
      url: 'www.pea.co.th',
      prefix: '‡∏Å‡∏ü‡∏†.',
      user: 'Worakrit Soontornthamniti',
      content: 'some contnet',
    },
    {
      title: '‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏≤‡πÄ‡∏ô‡πá‡∏ï ‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ',
      url: 'http://intranet.pea.co.th',
      prefix: '‡∏Å‡∏ü‡∏†.',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏≤‡πÄ‡∏ô‡πá‡∏ï ‡∏Å‡∏ü‡∏ï.3',
      url: 'http://intra.pea.co.th/peas3',
      prefix: '‡∏Å‡∏ü‡∏ï.3',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ ‡∏Å‡∏ü‡∏ï.3 ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ 2564',
      url: 'http://strms.pea.co.th/s3/2564/tprS3-64/home.php',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡∏Å‡∏ü‡∏ï.3',
      url: 'http://greenoffice.pea.co.th/2564/',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏™‡∏´‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≠‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå ‡∏Å‡∏ü‡∏†.',
      url: 'http://www.peacoop.or.th/',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô MFCfund',
      url: 'https://www.mfcfund.com',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ ‡∏Å‡∏ü‡∏ï.3 youtube',
      url: 'http://bct.pea.co.th/youtube/',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡∏µ‡πâ‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞ ETSx',
      url: 'http://c2intra.pea.co.th/c2/ETSx_C2',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏• ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ OKR',
      url: 'http://okr.pea.co.th/',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: 'Dashboard ',
      url: 'https://sites.google.com/view/s3-pms/home',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏™‡∏î‡∏∏',
      url: 'https://simp-peadashboard.web.app',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏î‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå',
      url: 'https://smr.pea.co.th',
      user: 'Worakrit Soontornthamniti',
    },
    {
      title: '‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô/‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ',
      url: 'http://cdp.pea.co.th/',
      user: 'Worakrit Soontornthamniti',
    },
  ];
</script>

<script>
  import Fuse from 'fuse.js';
  import Card from './Card.svelte';

  export let textInputs = '';

  const fuse = new Fuse(db, {
    keys: ['url', 'title'],
    includeScore: true,
  });
  $: linkResult = fuse.search(textInputs);

  function finding() {
    return '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå';
  }
</script>

<!-- markup (zero or more items) goes here -->
<section>
  <div class="flex justify-center my-5">
    <input
      class=" text-center bg-purple-200 hover:bg-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 "
      type="search"
      bind:value={textInputs}
      placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"
    />
    <ion-button on:click={finding}> ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤üöÄ </ion-button>
  </div>

  {#if finding}
    <div class="grid">
      <ul>
        {#each linkResult as link}
          <Card>
            <span slot="content">
              <h1>
                {link.item.title}
              </h1>
              <h2>
                <a href={link.item.url}>{link.item.url}</a>
              </h2>

              {link.item.user}</span
            >
          </Card>
        {/each}
      </ul>
    </div>
  {/if}
</section>

<style style="postcss">
</style>
